FEATURES ROADMAP
----------
- Versioning by lastUpdateDate or ETAG
- Group by page, to enable multiple pages or multiple instances of same page in same session
- Drag & drop
- More element types
    -> image
    -> non-SVG mode (HTML)
- double-click for child edition
- Keyboard shortcuts

CODE IMPROVEMENTS
----------
- Clear deletedElementIds on allPageElementsDeletedEventHandler() in persistenceService
- Persist deletedElementIds in local storage
- Use _.defaults() to simplify PageElement instantiation
- Use http://davidwalsh.name/javascript-objects-deconstruction to simplify inheritance mess
- Bundle JS resources

BUGS
----------
- Do not persist non-dynamic pageElement properties on server (have to re-set them on augmentPageElement)

DONE
---------
- select element by clicking on it
- insert element at position: underlying giant background element to capture clicks
    -> text
    -> circle
    -> rectangle
- delete button
- Local storage
- change attributes by button
    -> all
        => color
        => size / font-size / width & height
    -> text
        => contents
        => font-style
        => font-weight
        => text-decoration
- Handle socketio error events
- Normalized pageElementId matching
- Periodically send persistence/deletion of elements out of sync with server (as part of client-side reconciliation on server connect/reconnect)
- Server: propagate deletion of unknown element, as it could have been deleted while server was offline
- Call callback on socketio connect/reconnect, so that relist elements from server (as part of client-side reconciliation on server connect/reconnect)
- Fix PageElement prototype inheritance
- Maintain list of deletedElementIds, on both client and server sides
- Use specific D3 CSS selector to only refresh what's needed
- Use events instead of deep collection watch
- Fix D3 functions by type to remove grouping by type in scope
- make modifyControlsDialog a directive
    - Create framework for updating vs. toggling properties
- Handle toggleSize specifics inside dataServices.js, instead of controllers.js (aliasedProperties)
- Use directive for addControls dialog & potentially make it floating (appear on double-click on background?)

NOTES
---------
- Text deselection on double click, if text selection has to be re-enabled:
    - Remove user-select CSS class
    - Add call to this function in .on('dblclick', function() { ... }):
        var clearSelection = function() {
            if (document.selection && document.selection.empty) {
                document.selection.empty();
            } else if (window.getSelection) {
                window.getSelection().removeAllRanges();
            }
        };
- To box dialogs inside div:
    var boundDecrementedValue = function(value, increment, min, max) {
        return Math.max(min, Math.min(value - increment, max - 2 * increment));
    };